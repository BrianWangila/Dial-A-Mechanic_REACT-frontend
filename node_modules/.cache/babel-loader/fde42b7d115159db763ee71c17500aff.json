{"ast":null,"code":"var _jsxFileName = \"/home/moringa/Documents/Moringa/Development/Moringa-Projects/Phase-3/DAM-client/src/components/Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport EditMechanic from \"./EditMechanic\";\nimport MechanicsCard from \"./MechanicsCard\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DISPLAY_MECHANICS = \"http://localhost:9292/mechanics\";\nexport default function Home(_ref) {\n  _s();\n\n  let {\n    Logout,\n    user\n  } = _ref;\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [mechDetails, setMechDetails] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  const [searchParam] = useState([\"category\", \"location\"]);\n  const [error, setError] = useState(\"\");\n  useEffect(() => {\n    fetch(DISPLAY_MECHANICS).then(resp => resp.json()).then(mechDetails => {\n      setIsLoaded(true);\n      setMechDetails(mechDetails);\n    }, error => {\n      setIsLoaded(true);\n      setError(error);\n    });\n  }, [mech]);\n\n  function handleAddSubmit(newData) {\n    setMechDetails(...mechDetails, newData);\n  }\n\n  function handleDeleteFromData(card) {\n    setMechDetails(mechDetails.filter(mechId => mechId !== card.id));\n  }\n\n  function handleUpdateMechanic(updatedMechanicObj) {\n    const updatedMechanics = \"end\";\n  }\n\n  function handleSearch(mechDetails) {\n    return mechDetails.filter(mech => {\n      return searchParam.some(newMech => {\n        return mech[newMech].toString().toLowerCase().indexOf(search.toLowerCase()) > -1;\n      });\n    });\n  }\n\n  if (!isLoaded) {\n    return /*#__PURE__*/_jsxDEV(\"center\", {\n      style: {\n        marginTop: 3 + \"vh\",\n        color: \"red\"\n      },\n      children: \"Loading data, please wait...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"center\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"home-title\",\n          children: \"Find A Mechanic in Seconds\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"d-flex\",\n            role: \"search\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-control me-2\",\n              type: \"search\",\n              placeholder: \"Search by City Name or Category...\",\n              \"aria-label\": \"Search\",\n              value: search,\n              onChange: e => setSearch(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: handleSearch(mechDetails).map(mechDetail => {\n            return /*#__PURE__*/_jsxDEV(MechanicsCard, {\n              onHandleDelete: handleDeleteFromData,\n              onHandleAddSubmit: handleAddSubmit,\n              onUpdateMechanic: handleUpdateMechanic,\n              category: mechDetail.category,\n              image_url: mechDetail.image_url,\n              mechanic_name: mechDetail.mechanic_name,\n              shop_name: mechDetail.shop_name,\n              location: mechDetail.location,\n              experience: mechDetail.experience,\n              comment: mechDetail.reviews.map(review => {\n                return review.comment;\n              }),\n              rating: mechDetail.reviews.map(review => {\n                return review.rating;\n              }),\n              name: mechDetail.reviews.map(review => {\n                return review.name;\n              }),\n              mechId: mechDetail.id\n            }, mechDetail.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 15\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }, this);\n  }\n}\n\n_s(Home, \"NKE9VzL0ykXoykpSaW4XzVIRYEA=\");\n\n_c = Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useState","EditMechanic","MechanicsCard","DISPLAY_MECHANICS","Home","Logout","user","isLoaded","setIsLoaded","mechDetails","setMechDetails","search","setSearch","searchParam","error","setError","fetch","then","resp","json","mech","handleAddSubmit","newData","handleDeleteFromData","card","filter","mechId","id","handleUpdateMechanic","updatedMechanicObj","updatedMechanics","handleSearch","some","newMech","toString","toLowerCase","indexOf","marginTop","color","e","target","value","map","mechDetail","category","image_url","mechanic_name","shop_name","location","experience","reviews","review","comment","rating","name"],"sources":["/home/moringa/Documents/Moringa/Development/Moringa-Projects/Phase-3/DAM-client/src/components/Home.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport EditMechanic from \"./EditMechanic\";\nimport MechanicsCard from \"./MechanicsCard\";\n\n\nconst DISPLAY_MECHANICS = \"http://localhost:9292/mechanics\"\nexport default function Home({Logout, user}){\n\n  const [isLoaded, setIsLoaded] = useState(false)\n  const [mechDetails, setMechDetails] = useState([])\n  const [search, setSearch] = useState(\"\")\n  const [searchParam] = useState([\"category\", \"location\"])\n  const [error, setError] = useState(\"\")\n\n\n  useEffect(() => {\n    fetch(DISPLAY_MECHANICS)\n    .then((resp) => resp.json())\n    .then((mechDetails) => {\n      setIsLoaded(true)\n      setMechDetails(mechDetails)\n    },\n    (error) => {\n      setIsLoaded(true)\n      setError(error)\n    })\n  }, [mech])\n\n  function handleAddSubmit(newData){\n    setMechDetails(...mechDetails, newData)\n  }\n  \n  function handleDeleteFromData(card){\n    setMechDetails(mechDetails.filter((mechId) => mechId !== card.id))\n  }\n\n  function handleUpdateMechanic(updatedMechanicObj){\n    const updatedMechanics = \"end\"\n  }\n\n  function handleSearch(mechDetails){\n    return mechDetails.filter((mech) => {\n      return searchParam.some((newMech) => {\n        return (\n          mech[newMech].toString().toLowerCase().indexOf(search.toLowerCase()) > -1 \n        )\n      })\n    })\n  }\n if (!isLoaded){\n   return <center style={{marginTop: 3+\"vh\", color: \"red\"}}>Loading data, please wait...</center> \n\n  }\n  else {\n\n  return (\n    <center >\n      <div>\n        <h3 className=\"home-title\">Find A Mechanic in Seconds</h3>\n        <div className=\"search\">\n          <form className=\"d-flex\" role=\"search\">\n            <input\n              className=\"form-control me-2\" \n              type=\"search\" \n              placeholder=\"Search by City Name or Category...\" \n              aria-label=\"Search\"\n              value={search}\n              onChange={(e) => setSearch(e.target.value)}\n              />\n          </form>\n        </div>\n        <div className=\"row\">\n          {handleSearch(mechDetails).map((mechDetail) => {\n            return (\n              <MechanicsCard\n                onHandleDelete={handleDeleteFromData}\n                onHandleAddSubmit={handleAddSubmit}\n                onUpdateMechanic={handleUpdateMechanic}\n                key={mechDetail.id}\n                category={mechDetail.category}\n                image_url={mechDetail.image_url}\n                mechanic_name={mechDetail.mechanic_name}\n                shop_name={mechDetail.shop_name}\n                location={mechDetail.location}\n                experience={mechDetail.experience}\n                comment = {mechDetail.reviews.map((review) => {return review.comment})}\n                rating = {mechDetail.reviews.map((review) => {return review.rating})}\n                name = {mechDetail.reviews.map((review) => {return review.name})}\n                mechId={mechDetail.id}\n              />   \n            )\n          })}\n        </div>\n      </div>\n    </center>\n  )\n}\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}