{"ast":null,"code":"var _jsxFileName = \"/home/moringa/Documents/Moringa/Development/Moringa-Projects/Phase-2-Project_Dial-a-Mechanic/dial-a-mechanic/src/components/Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport MechanicsCard from \"./MechanicsCard\";\nimport Login from \"./Login\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DISPLAY_MECHANICS = \"https://gentle-tundra-19961.herokuapp.com/mechanics\";\nexport default function Home() {\n  _s();\n\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [mechDetails, setMechDetails] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  const [searchParam] = useState([\"category\", \"location\"]);\n  const [error, setError] = useState(\"\");\n  const [user, setUser] = useState({\n    name: \"\",\n    email: \"\"\n  });\n  const adminUser = {\n    email: \"admin@gmail.com\",\n    password: \"admin123\"\n  };\n\n  const Logins = details => {\n    console.log(details);\n\n    if (details.email == adminUser.email && details.password == adminUser.password) {\n      console.log(\"logged in\");\n      setUser({\n        name: details.name,\n        email: details.email\n      });\n    } else {\n      console.log(\"Details do not match\");\n    }\n  };\n\n  const Logout = () => {\n    console.log(\"Logout\");\n  };\n\n  useEffect(() => {\n    fetch(DISPLAY_MECHANICS).then(resp => resp.json()).then(mechanic => {\n      setIsLoaded(true);\n      setMechDetails(mechanic);\n    }, error => {\n      setIsLoaded(true);\n      setError(error);\n    });\n  }, [mechDetails]);\n\n  function handleAddSubmit(newData) {\n    setMechDetails(...mechDetails, newData);\n  }\n\n  function handleDeleteFromData(card) {\n    setMechDetails(mechDetails.filter(mechId => mechId !== card.id));\n  }\n\n  function handleSearch(mechDetails) {\n    return mechDetails.filter(mech => {\n      return searchParam.some(newMech => {\n        return mech[newMech].toString().toLowerCase().indexOf(search.toLowerCase()) > -1;\n      });\n    });\n  }\n\n  if (!isLoaded) {\n    return /*#__PURE__*/_jsxDEV(\"center\", {\n      children: \"Loading data, please wait...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"center\", {\n      children: user.email != \"\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"home-title\",\n          children: [\"Hello\", /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: \"darkBlue\",\n              fontWeight: 600,\n              fontSize: 40 + \"px\"\n            },\n            children: [\" \", user.name, \", \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 41\n          }, this), \"Find A Mechanic in Seconds\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              position: \"absolute\",\n              top: 200\n            },\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"d-flex\",\n            role: \"search\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-control me-2\",\n              type: \"search\",\n              placeholder: \"Search by City Name or Category...\",\n              \"aria-label\": \"Search\",\n              value: search,\n              onChange: e => setSearch(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: handleSearch(mechDetails).map(mechDetail => {\n            return /*#__PURE__*/_jsxDEV(MechanicsCard, {\n              onHandleDelete: handleDeleteFromData,\n              onHandleAddSubmit: handleAddSubmit,\n              category: mechDetail.category,\n              image: mechDetail.photo,\n              name: mechDetail.name,\n              shopName: mechDetail.shopName,\n              location: mechDetail.location,\n              rating: mechDetail.rating,\n              experience: mechDetail.experience,\n              mechId: mechDetail.id\n            }, mechDetail.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 15\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 7\n      }, this) : /*#__PURE__*/_jsxDEV(Login, {\n        Logins: Logins,\n        error: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }, this);\n  }\n}\n\n_s(Home, \"hFBevboz1ddoMavGtGRz1GEWP5A=\");\n\n_c = Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useState","MechanicsCard","Login","DISPLAY_MECHANICS","Home","isLoaded","setIsLoaded","mechDetails","setMechDetails","search","setSearch","searchParam","error","setError","user","setUser","name","email","adminUser","password","Logins","details","console","log","Logout","fetch","then","resp","json","mechanic","handleAddSubmit","newData","handleDeleteFromData","card","filter","mechId","id","handleSearch","mech","some","newMech","toString","toLowerCase","indexOf","color","fontWeight","fontSize","position","top","e","target","value","map","mechDetail","category","photo","shopName","location","rating","experience"],"sources":["/home/moringa/Documents/Moringa/Development/Moringa-Projects/Phase-2-Project_Dial-a-Mechanic/dial-a-mechanic/src/components/Home.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport MechanicsCard from \"./MechanicsCard\";\nimport Login from \"./Login\";\n\n\nconst DISPLAY_MECHANICS = \"https://gentle-tundra-19961.herokuapp.com/mechanics\"\nexport default function Home(){\n\n  const [isLoaded, setIsLoaded] = useState(false)\n  const [mechDetails, setMechDetails] = useState([])\n  const [search, setSearch] = useState(\"\")\n  const [searchParam] = useState([\"category\", \"location\"])\n  const [error, setError] = useState(\"\")\n  const [user, setUser] = useState({\n    name: \"\",\n    email: \"\"\n  })\n  const adminUser = {\n    email: \"admin@gmail.com\",\n    password: \"admin123\"\n  }\n\n  const Logins = (details) => {\n    console.log(details)\n\n    if (details.email == adminUser.email && details.password == adminUser.password){\n      console.log(\"logged in\")\n      setUser({\n        name: details.name,\n        email: details.email\n      })\n    } else {\n      console.log(\"Details do not match\")\n    }\n  }\n\n  const Logout = () => {\n    console.log(\"Logout\")\n  }\n\n  useEffect(() => {\n    fetch(DISPLAY_MECHANICS)\n    .then((resp) => resp.json())\n    .then((mechanic) => {\n      setIsLoaded(true)\n      setMechDetails(mechanic)\n    },\n    (error) => {\n      setIsLoaded(true)\n      setError(error)\n    })\n  }, [mechDetails])\n\n  function handleAddSubmit(newData){\n    setMechDetails(...mechDetails, newData)\n  }\n  \n  function handleDeleteFromData(card){\n    setMechDetails(mechDetails.filter((mechId) => mechId !== card.id))\n  }\n\n  function handleSearch(mechDetails){\n    return mechDetails.filter((mech) => {\n      return searchParam.some((newMech) => {\n        return (\n          mech[newMech].toString().toLowerCase().indexOf(search.toLowerCase()) > -1\n          \n        )\n      })\n    })\n  }\n\n if (!isLoaded){\n   return <center>Loading data, please wait...</center> \n\n  }\n  else {\n\n  return (\n    <center >\n      {(user.email != \"\") ? (\n      <div>\n        <h3 className=\"home-title\">Hello<span style={{color: \"darkBlue\", fontWeight: 600, fontSize: 40+\"px\"}}> {user.name}, </span>Find A Mechanic in Seconds</h3>\n        <div className=\"search\">\n          <button style={{position: \"absolute\", top: 200}}>Logout</button>\n          <form className=\"d-flex\" role=\"search\">\n            <input\n              className=\"form-control me-2\" \n              type=\"search\" \n              placeholder=\"Search by City Name or Category...\" \n              aria-label=\"Search\"\n              value={search}\n              onChange={(e) => setSearch(e.target.value)}\n              />\n          </form>\n        </div>\n        <div className=\"row\">\n          {handleSearch(mechDetails).map((mechDetail) => {\n            return (\n              <MechanicsCard\n                onHandleDelete={handleDeleteFromData}\n                onHandleAddSubmit={handleAddSubmit}\n                key={mechDetail.id}\n                category={mechDetail.category}\n                image={mechDetail.photo}\n                name={mechDetail.name}\n                shopName={mechDetail.shopName}\n                location={mechDetail.location}\n                rating={mechDetail.rating}\n                experience={mechDetail.experience}\n                mechId={mechDetail.id}\n              />\n            )\n          })}\n        </div>\n      </div>\n      ) : (\n      <Login Logins={Logins} error={error} />\n      )}\n \n\n    </center>\n  )\n}\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}