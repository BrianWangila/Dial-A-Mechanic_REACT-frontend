{"ast":null,"code":"var _jsxFileName = \"/home/moringa/Documents/Moringa/Development/Moringa-Projects/Phase-3/DAM-client/src/components/MechanicDetails.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function MechanicDetails() {\n  _s();\n\n  let {\n    mechId\n  } = useParams();\n  const DISPLAY_MECHANICS = `http://localhost:9292/mechanics/${mechId}`;\n  const [image_url, setImage] = useState(\"\");\n  const [shop_name, setShopName] = useState(\"\");\n  const [number, setNumber] = useState(\"\");\n  const [mechanic_name, setMechName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [about, setAbout] = useState(\"\");\n  const [experience, setExperience] = useState(\"\");\n  const [rating, setRating] = useState(\"\");\n  const [category, setCategory] = useState(\"\");\n  const [comment, setComment] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [time, setTime] = useState(\"\");\n  const [review, setReview] = useState(\"\");\n  useEffect(() => {\n    fetch(DISPLAY_MECHANICS).then(resp => resp.json()).then(data => {\n      console.log(data.reviews.map(review => review.comment));\n      const mechanic = data;\n      setImage(mechanic.image_url);\n      setShopName(mechanic.shop_name);\n      setAbout(mechanic.about);\n      setExperience(mechanic.experience);\n      setEmail(mechanic.email);\n      setMechName(mechanic.mechanic_name);\n      setNumber(mechanic.number);\n      setCategory(mechanic.category);\n      setReview();\n      setComment(mechanic.reviews.map(review => review.comment));\n      setName(mechanic.reviews.map(review => review.name));\n      setRating(mechanic.reviews.map(review => review.rating)); // setRating(mechanic.reviews.reduce((a, b) => (a = a + b.rating, 0)))\n      // setTime(mechanic.reviews.map((review) => {\n      //   return (\n      //       const timestamp = (new Date(update_at).toLocaleTimeString())\n      //     review.updated_at\n      //   )\n      // }))\n    });\n  }, []); // const totalRating = review.reduce((a, b) => a = a + b.rating, 0)\n  // console.log(totalRating)\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"center\", {\n      className: \"container\",\n      style: {\n        marginTop: 10 + \"vh\",\n        marginBottom: 10 + \"vh\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"shop-name\",\n        children: shop_name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        style: {\n          width: 40 + \"rem\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: image_url,\n          className: \"card-img-top\",\n          alt: mechanic_name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"card-title\",\n            children: mechanic_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"badge text-bg-danger\",\n            children: category\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"card-text\",\n            style: {\n              minHeight: 35 + \"vh\"\n            },\n            children: about\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"list-group list-group-flush text-bg-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"list-group-item badge text-bg-info\",\n            children: [\"Tel: \", number]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"list-group-item badge text-bg-info\",\n            children: [\"Email: \", email]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"list-group-item badge text-bg-info\",\n            children: [\"Experience: \", experience, \" years\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"list-group-item badge text-bg-info\",\n            children: [\"Rating: \", rating.reduce((a, b) => {\n              a + b;\n            }) / rating.length, \" / 5\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), console.log(rating)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"Reviews\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: \"red\"\n            },\n            children: [rating, \" Update: \", time]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: \"red\"\n            },\n            children: name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: comment\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n\n_s(MechanicDetails, \"9IwmRVFJQ4PXLfVOpiokwmCRang=\", false, function () {\n  return [useParams];\n});\n\n_c = MechanicDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"MechanicDetails\");","map":{"version":3,"names":["React","useState","useEffect","Link","useParams","MechanicDetails","mechId","DISPLAY_MECHANICS","image_url","setImage","shop_name","setShopName","number","setNumber","mechanic_name","setMechName","email","setEmail","about","setAbout","experience","setExperience","rating","setRating","category","setCategory","comment","setComment","name","setName","time","setTime","review","setReview","fetch","then","resp","json","data","console","log","reviews","map","mechanic","marginTop","marginBottom","width","minHeight","reduce","a","b","length","color"],"sources":["/home/moringa/Documents/Moringa/Development/Moringa-Projects/Phase-3/DAM-client/src/components/MechanicDetails.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\n\n\n\nexport default function MechanicDetails(){\n\n  let {mechId} = useParams()\n  const DISPLAY_MECHANICS = `http://localhost:9292/mechanics/${mechId}`\n\n  const [image_url, setImage] = useState(\"\")\n  const [shop_name, setShopName] = useState(\"\")\n  const [number, setNumber] = useState(\"\")\n  const [mechanic_name, setMechName] = useState(\"\")\n  const [email, setEmail] = useState(\"\")\n  const [about, setAbout] = useState(\"\")\n  const [experience, setExperience] = useState(\"\")\n  const [rating, setRating] = useState(\"\")\n  const [category, setCategory] = useState(\"\")\n  const [comment, setComment] = useState(\"\")\n  const [name, setName] = useState(\"\")\n  const [time, setTime] = useState(\"\")\n  const [review, setReview] = useState(\"\")\n\n\n  useEffect(() => {\n    fetch(DISPLAY_MECHANICS)\n    .then((resp) => resp.json())\n    .then((data) => {\n\n      console.log(data.reviews.map((review) => review.comment))\n\n      const mechanic = data\n\n      setImage(mechanic.image_url)\n      setShopName(mechanic.shop_name)\n      setAbout(mechanic.about)\n      setExperience(mechanic.experience)\n      setEmail(mechanic.email)\n      setMechName(mechanic.mechanic_name)\n      setNumber(mechanic.number)\n      setCategory(mechanic.category)\n      setReview()\n      setComment(mechanic.reviews.map((review) =>(review.comment)))\n      setName(mechanic.reviews.map((review) =>(review.name)))\n      setRating(mechanic.reviews.map((review) =>(review.rating)))\n\n      // setRating(mechanic.reviews.reduce((a, b) => (a = a + b.rating, 0)))\n\n      // setTime(mechanic.reviews.map((review) => {\n      //   return (\n      //       const timestamp = (new Date(update_at).toLocaleTimeString())\n\n      //     review.updated_at\n      //   )\n      // }))\n\n    })\n  }, [])\n  \n  // const totalRating = review.reduce((a, b) => a = a + b.rating, 0)\n  // console.log(totalRating)\n  \n  return(\n    <div>\n      <center className=\"container\" style={{marginTop: 10+\"vh\", marginBottom: 10+\"vh\"}} >\n        <h2 className=\"shop-name\">{shop_name}</h2>\n        <div className=\"card\" style={{width: 40+\"rem\"}}>\n          <img src={image_url} className=\"card-img-top\" alt={mechanic_name}/>\n          <div className=\"card-body\">\n            <h5 className=\"card-title\">{mechanic_name}</h5>\n            <span className=\"badge text-bg-danger\">{category}</span>\n            <p className=\"card-text\" style={{minHeight: 35+\"vh\"}}>{about}</p>\n          </div>\n\n          <ul className=\"list-group list-group-flush text-bg-info\">\n            <li className=\"list-group-item badge text-bg-info\">Tel: {number}</li>\n            <li className=\"list-group-item badge text-bg-info\">Email: {email}</li>\n            <li className=\"list-group-item badge text-bg-info\">Experience: {experience} years</li>\n            \n            <li className=\"list-group-item badge text-bg-info\">Rating: {(rating.reduce((a, b) => {a + b}))/rating.length} / 5</li>\n            {console.log(rating)}\n          </ul>\n\n          <div>\n            <h5>Reviews</h5>\n            <p style={{color: \"red\"}}>{rating} Update: {time}</p>\n            <p style={{color: \"red\"}}>{name}</p>\n            <p>{comment}</p>\n          </div>\n        </div>\n      </center>\n    </div>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}